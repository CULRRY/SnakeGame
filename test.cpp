#include <iostream>
#include "Snake.h"
using namespace std;

char gameBoard[21][21] = {
            {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1'},
            {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'}
        };

void setBoard(Snake s){
    for(int i=0; i<s.getLength(); i++){
        int y = s[i].getYposition();
        int x = s[i].getXposition();
        PART p = s[i].getPart();
        if (p==HEAD){
            gameBoard[y][x] = '3';
        } else{
            gameBoard[y][x] = '4';
        }
        
    }
}

void printBoard(){
    for (int i=0;i<21;i++){
        for (int j=0;j<21;j++){
            cout<<gameBoard[i][j]<< " ";
        }
        cout << endl;
    }
}

void printWithoutZero(){
    for (int i=0;i<21;i++){
        for (int j=0;j<21;j++){
            if (gameBoard[i][j] == '0'){
                cout << ' ' << ' ';
            }else{
                cout<<gameBoard[i][j]<< " ";
            }
        }
        cout << endl;
    }

}
// 왜 업뎃이 안되는지 한 번 확인하자
void down(Snake& s){
    int preY = s[0].getYposition();
    int preX = s[0].getXposition();
    int moveY = preY+1;
    s[0].setYposition(moveY);
    s[0].setXposition(preX);
    for(int i=1;i<s.getLength();i++){
        int tmpY = s[i].getYposition();
        int tmpX = s[i].getXposition();
        s[i].setYposition(preY);
        s[i].setXposition(preX);
        preY = tmpY;
        preX = tmpX;
    }
    gameBoard[preY][preX] = '0';
    setBoard(s);
}

void left(Snake& s){
    int preY = s[0].getYposition();
    int preX = s[0].getXposition();
    int moveX = preX-1;
    s[0].setYposition(preY);
    s[0].setXposition(moveX);
    for(int i=1;i<s.getLength();i++){
        int tmpY = s[i].getYposition();
        int tmpX = s[i].getXposition();
        s[i].setYposition(preY);
        s[i].setXposition(preX);
        preY = tmpY;
        preX = tmpX;
    }
    gameBoard[preY][preX] = '0';
    setBoard(s);

}



int main(){
    // printBoard();
    Snake s(5, 10, 10);
    setBoard(s);
    printWithoutZero();
    cout << endl;
    down(s);
    printWithoutZero();
    down(s);
    printWithoutZero();
    left(s);
    printWithoutZero();
    left(s);
    printWithoutZero();
    


    return 0;
}